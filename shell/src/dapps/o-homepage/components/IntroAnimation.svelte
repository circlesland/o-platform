<script>
  import { onMount } from "svelte";
  import UAParser from "ua-parser-js";

  let parser = new UAParser();
  let player;
  let mobile = parser.getResult().device["type"] == "mobile";
  $: player = document.querySelector("#animationvideo");

  onMount(() => {
    window.player = document.querySelector("#animationvideo");
    player = document.querySelector("#animationvideo");

    // Listening to an event.
    if (mobile) {
      player.addEventListener("vmPlay", (event) => {
        player.enterFullscreen();
      });
      player.addEventListener("vmPlaybackEnded", (event) => {
        player.exitFullscreen();
      });
    }
  });
  // function playVideo() {
  //   player.play();
  //   document.getElementById("video-overlay").style.display = "none";
  // }
</script>

<div class="w-full bg-white">
  <div
    class="px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20 font-circles "
  >
    <div class="flex flex-col items-center justify-between lg:flex-row">
      <div class="mb-10 lg:max-w-lg lg:pr-5 lg:mb-0">
        <div class="max-w-xl mb-6">
          <div>
            <p
              class="inline-block py-px mb-4 text-xs font-semibold tracking-wider uppercase rounded-full text-primary bg-teal-accent-400"
            >
              This is Circlesland
            </p>
          </div>
          <h2
            class="max-w-lg mb-6 text-3xl font-bold tracking-tight font-circles text-secondary sm:text-4xl sm:leading-none"
          >
            CirclesLand is here to unlock all our potential
          </h2>
          <p class="text-base text-gray-500 md:text-lg">
            Introducing the next generation of a fully opensource, digital and
            borderless country-as-a-service platform, starting with Circles a
            new universal basic income currency to secure our most basic needs.
          </p>
          <a
            href="https://circlesland.ghost.io/whitepaper/"
            aria-label=""
            class="inline-flex items-center mt-6 font-semibold transition-colors duration-200 text-primary hover:text-secondary"
          >
            Learn more
            <svg
              class="inline-block w-3 ml-2"
              fill="currentColor"
              viewBox="0 0 12 12"
            >
              <path
                d="M9.707,5.293l-5-5A1,1,0,0,0,3.293,1.707L7.586,6,3.293,10.293a1,1,0,1,0,1.414,1.414l5-5A1,1,0,0,0,9.707,5.293Z"
              />
            </svg>
          </a>
        </div>
      </div>
      <div class="w-full sm:w-1/2">
        <!-- <img
          class="object-cover w-full h-56 rounded shadow-lg sm:h-96"
          src="/images/homepage/animation.png"
          alt=""
        />
        <a
          href="/"
          aria-label="Play Video"
          class="absolute inset-0 flex items-center justify-center w-full h-full transition-colors duration-300 bg-gray-900 bg-opacity-50 group hover:bg-opacity-25"
        >
          <div
            class="flex items-center justify-center w-16 h-16 transition duration-300 transform bg-gray-100 rounded-full shadow-2xl group-hover:scale-110"
          >
            <svg
              class="w-10 text-gray-900"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M16.53,11.152l-8-5C8.221,5.958,7.833,5.949,7.515,6.125C7.197,6.302,7,6.636,7,7v10 c0,0.364,0.197,0.698,0.515,0.875C7.667,17.958,7.833,18,8,18c0.184,0,0.368-0.051,0.53-0.152l8-5C16.822,12.665,17,12.345,17,12 S16.822,11.335,16.53,11.152z"
              />
            </svg>
          </div>
        </a> -->
        <div
          id="inlinecontainer"
          class=" z-10 w-full min-w-full min-h-full max-w-full"
        >
          <vm-player playsinline id="animationvideo">
            <vm-vimeo
              video-id="548283844"
              cross-origin="true"
              poster="/images/homepage/animation.png"
            />
            <!-- <vm-dailymotion video-id="x7t80de" /> -->

            <vm-default-ui />
            <vm-click-to-play />
          </vm-player>
        </div>
      </div>
    </div>
  </div>
</div>
